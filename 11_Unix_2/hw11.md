Занятие №11 - Unix утилиты #2
Работа с файловой системой
Добавить к ВМ три дополнительных диска небольшого размера (2-5 гигов хватит за глаза)
Собрать из двух дополнительных дисков raid-1 (имя устройства задать /dev/md1)
Из полученного массива /dev/md1 и третьего диска собрать volume group (lvm) с именем vg_raid
От созданной VG vg_raid отрезать logical volume размером 3Gb и именем mysql-app1; создать на разделе файловую систему xfs
Установить на ВМ mariadb-server
Вынести папку с данными mariadb-server на созданный logical volume mysql-app1. Обязательно проверить, что БД после всех манипуляций запустилась и жива
Увеличить размер mysql-app1 до 4G
Оставшееся в volume group место отдать новому logical volume с именем app1 и файловой системой ext4, который смонтировать в /opt/data-app1
Сымитировать сбой одного из дисков в raid массиве; проверить, что данные не побились из-за этого; удалить сбойный диск из массива; вернуть обратно
Попробовать удалить диск из raid-массива без метки --fail. Что произошло (или могло бы произойти)?
Работа с пользователями и правами доступа
Добавить в систему пользователей vmadmin и vmuser; группу ssh-users
Добавить пользователей vmadmin и vmuser в группу ssh-users
Пользователь vmadmin должен иметь полные права sudo без пароля
Пользователь vmuser должен иметь возможность запускать от имени root только команды
apt list --installed
top/htop
strace
Для всех пользователей из группы ssh-users должен быть запрещен вход по ssh в систему по выходным (суббота и воскресенье)
Всем пользователям из группы ssh-users ограничить количество одновременных подключений 2
